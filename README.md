# MetaQuotes Software Corp.

**Задание:**

Реализовать сценарий для фильтрации событий на странице экономического календаря.


**URL:**

https://www.mql5.com/en/economic-calendar


Технологии \ Инструменты:

Java 8

Фреймворк-обёртка вокруг Selenium WebDriver на ваш выбор

Будет плюсом использование любого BDD фреймворка

Фреймворк логирования на ваш выбор для сохранения логов в файл

Запуск сценария в Google Chrome браузере с Googlebot юзер агентом


Сценарий:

1. Открыть в браузере страницу Экономического календаря

2. Отфильтровать события календаря по следующим параметрам:

Period - Importance;
Currency - Current month;
Medium - CHF - Swiss frank;

3. Открыть первое событие в отфильтрованном списке с CHF валютой.

4. Проверить, что приоритет и страна отображаемого события соответствуют выбранным фильтрам.

5. Вывести в лог историю события за последние 12 месяцев в виде таблицы.

Пример таблицы:

| Date | Actual | Forecast | Previous |

| 31 May 2019 | -0.7& | 0.3% | 0.0% |


Задание со звёздочкой:

6*. Используя lst.to API (https://lst.to/en/api) сократить ссылку открытого события и созданную короткую ссылку вместе с полученным Response DTO вывести в лог. После короткую ссылку нужно обязательно удалить через API.

Примечание: Rest Client при работе с API должен использовать Googlebot юзер агента в хедерах.


Отчет о выполнении задания:

Ссылка на проект с выполненным заданием в открытом VCS репозитории

Детальное описание настройки и запуска проекта

Файл с логами по результатам запуска и выполнения сценария

Будет плюсом наличие HTML отчета


**Описание настройки:**
Для проекта необходимо установить java 8, maven, allure2, google chrome browser, ide(по желанию)

**Запуск проекта:**
- mvn clean test
Если нужно запустить тесты только:
- ui тесты: mvn clean test -Dcucumber.options="--tags @ui"
- api тесты: mvn clean test -Dcucumber.options="--tags @api"
- для экономического календаря: mvn clean test -Dcucumber.options="--tags @economicCalendar"

**Лог файл** будет находиться в корне проекта в logs/log4j-application.log. Логи будут записываться в этот файл для API и UI тестов

Если нужно получить статистику allure:
- allure serve .\allure-results\

Если нужно сгенерировать репорт allure:
- allure generate .\allure-results\

**Пример репорта** можно найти в корне проекта, папка allure-report. В данном report отображена статистика UI и API тестов вместе.
